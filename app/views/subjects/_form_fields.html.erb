<div class="row nested-fields">
  <div class="col-md-12">
    <% if f.object.parent %>
      <%= f.input :type, collection: f.object.parent.has_children.map {|t| [t, t.camelcase]} %>
    <% else %>
      <%= f.hidden_field :type, value: @type if @type != "Subject" %>
      <%= f.input :type, collection: Subject.types.map {|t| [t, t.camelcase]}, selected: @type, disabled: @type != "Subject" %> 
    <% end %>
  </div>

  <div class="col-md-12">
    <%= f.input :creator_list, collection: Creator.order(lname: :asc), label_method: :name, value_method: :name, label: "Creators", selected: f.object.creators.map(&:name), input_html: {multiple: true, id: 'creator_names'} %>
    <%= f.input :title %>
    <%= f.input :subtitle %>
    <%= f.input :published_date %>
  </div>
  
  <div class="col-md-6">
    <%= f.input :publisher, collection: Publisher.order(name: :asc), label_method: :name, value_method: :name, include_blank: true, label: "Publisher", selected: @subject.publisher.try(:name), input_html: {id: 'publisher'} %>
    <%= f.input :place, collection: Place.order(name: :asc), label_method: :name, value_method: :name, include_blank: true, label: "Place", selected: @subject.place.try(:name), input_html: {id: 'place'} %>
  </div>

  <div class="col-md-6">
    <%= f.input :first_page %>
    <%= f.input :last_page %>
    <%= f.input :page_count %>
  </div>
  
  <div class="col-md-6">
    <%= f.input :abbr %>
    <%= f.input :edition %>
    <%= f.input :language %>
  </div>
  
  <div class="col-md-6">
    <div id="identifiers">
      <strong>Other Identifiers: </strong>
      <%= f.simple_fields_for :identifiers do |id| %>
        <%= render 'identifier_fields', f: id %>
      <% end %>
      <div class="links">
        <%= link_to_add_association fa_icon('plus-square', text: 'add'), f, :identifiers %>
      </div>
    </div>
  </div>
  <%= link_to_remove_association fa_icon('remove', text: "remove child"), f if f.object.child? %>
</div>